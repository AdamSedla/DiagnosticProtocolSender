// node_modules/tauri-plugin-htmx/tauri-plugin-htmx.js
var { invoke } = window.__TAURI__.core;
var COMMAND_PREFIX = "command:";
var patchedSend = async function(params) {
  Object.defineProperty(this, "readyState", { writable: true });
  Object.defineProperty(this, "status", { writable: true });
  Object.defineProperty(this, "statusText", { writable: true });
  Object.defineProperty(this, "response", { writable: true });
  const query = new URLSearchParams(params);
  this.response = await invoke(this.command, Object.fromEntries(query));
  this.readyState = XMLHttpRequest.DONE;
  this.status = 200;
  this.statusText = "OK";
  this.dispatchEvent(new ProgressEvent("load"));
};
window.addEventListener("DOMContentLoaded", () => {
  document.body.addEventListener("htmx:beforeSend", (event) => {
    const path = event.detail.requestConfig.path;
    if (path.startsWith(COMMAND_PREFIX)) {
      event.detail.xhr.command = path.slice(COMMAND_PREFIX.length);
      event.detail.xhr.send = patchedSend;
    }
  });
});
//# sourceMappingURL=tauri-plugin-htmx.js.map
